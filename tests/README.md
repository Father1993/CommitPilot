# Тестирование CommitPilot

В этой директории находятся автоматические тесты для проверки работоспособности проекта CommitPilot.

## Структура тестов

-   `test_auto_commit.py` - тесты для основного модуля
-   `test_openai_support.py` - тесты для модуля OpenAI (будет добавлен позже)

## Запуск тестов

Запуск всех тестов:

```bash
pytest
```

Запуск с подробным выводом:

```bash
pytest -v
```

Запуск конкретного теста:

```bash
pytest test_auto_commit.py::test_get_git_diff
```

## Покрытие кода

Для проверки покрытия кода тестами:

```bash
# Установка необходимого модуля
pip install pytest-cov

# Запуск тестов с отчетом о покрытии
pytest --cov=../ --cov-report=term
```

## Рекомендации по написанию тестов

1. Используйте моки для внешних зависимостей (subprocess, requests)
2. Структурируйте тесты по принципу AAA (Arrange-Act-Assert)
3. Добавляйте тесты как для нормального хода выполнения, так и для обработки ошибок
4. Документируйте тестовые функции (что они проверяют)

## Полезные ресурсы

-   [Документация pytest](https://docs.pytest.org/)
-   [Документация pytest-mock](https://pytest-mock.readthedocs.io/)
-   [Руководство для разработчиков](../docs/development.md)
